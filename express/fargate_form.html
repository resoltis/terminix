<body>
    <!--Fargate Container form-->
    <div style="padding: 24px;">

        <div class="row">
            <img class="icon" src="icons/fargate.jpg">
            <h1>Fargate</h1>
        </div>

        <div class="row">
            <div class="col-md-4">
                <label for="ingressNonIngress">Ingress or Non-Ingress:</label>
                <select id="ingressNonIngress" name="ingressNonIngress">
                    <option value="ingress">Ingress</option>
                    <option value="nonIngress">Non-Ingress</option>
                </select>
            </div>
        </div>

        <input type="hidden" value="fargate" id="service" name="service">
    
        <div class="row">
            <div class="col-md-4" style="border: 1px solid black; border-right: none; padding: 24px;">
                <div class="row">
                    <label for="containerCPU">Choose Task CPU:</label>
                    <select id="containerCPU" name="containerCPU" onchange='detectTaskCPU()'>
                        <option value="256">256 units</option>
                        <option value="512">512 units</option>
                        <option value="1024">1024 units</option>
                    </select>
                </div>
                <div class="row">
                    <label for="containerMemory">Choose Task Memory:</label>
                    <select id="containerMemory" name="containerMemory">
                        <option value="0.5">0.5 GB</option>
                        <option value="1">1 GB</option>
                        <option value="2">2 GB</option>
                    </select>
                </div>
            
                <div class="row">
                    <label for="desiredCount">Desired Count:</label>
                    <input type="number" id="desiredCount" name="desiredCount" value="2" style="width:100%" required >
                </div>
                <div class="row">
                    <label for="version">Version:</label>
                    <input type="string" id="version" name="version" value="1" style="width:100%" required >
                </div>
            </div>
        
            <div class="col-md-4" style="border: 1px solid black; border-right: none; padding: 24px;">
                <div id="containerArea">
                    <div class="row">
                        <label for="dockerImageUrl">Docker Image URL 1:</label>
                        <input type="text" id="dockerImageUrl" name="dockerImageUrl" style="width:100%" required >
                    </div>
                    <div class="row">
                        <label for="containerName">Container Name 1:</label>
                        <input type="text" id="containerName" name="containerName" style='width:100%' required>
                    </div>
                    <div class="row" style="border-bottom: 1px solid black; border-width: 80%;">
                        <label for="containerPort">Container Port 1:</label>
                        <input type="number" id="containerPort" name="containerPort" style="width:100%" required >
                    </div>
                </div>
                <div class="row">
                    <button id="addContainer" class="add-container">Add container</button>
                </div>
                
                <div class="row">
                    <button id="deleteContainer" class="delete-container">Delete previous container</button>
                </div>
            </div>

            <div class="col-md-4" style="border: 1px solid black; padding: 24px;">
                <div id="trafficArea">
                    <div class="row">
                        <label for="trafficPort">Traffic Port 1:</label>
                        <input type="number" id="trafficPort" name="trafficPort" style="width:100%" required>
                    </div>
                    <div class="row" style="border-bottom: 1px solid black; border-width: 80%;">
                        <label for="sourceIp">Source IP 1:</label>
                        <input type="number"id="sourceIp" name="sourceIp" style="width:100%" required>
                    </div>
                </div>
                
                <div class="row">
                    <button id="addTrafficArea" class="add-traffic-area">Add security role</button>
                </div>

                <div class="row">
                    <button id="deleteTrafficArea" class="delete-traffic-area">Delete previous security role</button>
                </div>

            </div>
        </div>

        <script>
            //Adding a new container
            $('.add-container').off().click(function (e) {
                e.preventDefault();
                var id = ($(this).parent().prev().children().length/3)+1; //Get number of containers
                
                $(this).parent().prev().append('<div class="row"><label for="dockerImageUrl">Docker Image URL '+id+':</label><input type="text" id="dockerImageUrl" name="dockerImageUrl" style="width:100%" required ></div><div class="row"><label for="containerName">Container Name '+id+':</label><input type="text" id="containerName" name="containerName" required></div><div class="row" style="border-bottom: 1px solid black; border-width: 80%;"><label for="containerPort">Container Port '+id+':</label><input type="number" id="containerPort" name="containerPort" style="width:100%" required ></div>'); //add tab on top bar
                
            });

            //Deleting a new container
            $('.delete-container').off().click(function (e) {
                e.preventDefault();
                $(this).parent().prev().prev().children().slice(-3).remove();
            });

            //Adding a new security role
            $('.add-traffic-area').off().click(function (e) {
                e.preventDefault();
                var id = ($(this).parent().prev().children().length/2)+1; //Get number of security roles
                $(this).parent().prev().append('<div class="row"><label for="trafficPort">Traffic Port '+id+':</label><input type="number"id="trafficPort" name="trafficPort" required></div><div class="row" style="border-bottom: 1px solid black; border-width: 80%;"><label for="sourceIp">Source IP '+id+':</label><input type="number" id="sourceIp" name="sourceIp" required style="width:100%" required></div>'); //add tab on top bar
            
            });

            //Deleting a new security role
            $('.delete-traffic-area').off().click(function (e) {
                e.preventDefault();
                $(this).parent().prev().prev().children().slice(-2).remove();
            });
        </script>
            
    </div>
</body>